<!DOCTYPE HTML>
<html lang="cs">
<head>
<!-- Generated by javadoc (17) on Thu Feb 24 17:14:52 CET 2022 -->
<title>Overview (WebMonitor 1.0 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2022-02-24">
<meta name="description" content="package index">
<meta name="generator" content="javadoc/PackageIndexWriter">
<link rel="stylesheet" type="text/css" href="stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="script.js"></script>
<script type="text/javascript" src="script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="script-dir/jquery-ui.min.js"></script>
</head>
<body class="package-index-page">
<script type="text/javascript">var pathtoroot = "./";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li class="nav-bar-cell1-rev">Overview</li>
<li>Package</li>
<li>Class</li>
<li>Use</li>
<li><a href="overview-tree.html">Tree</a></li>
<li><a href="index-all.html">Index</a></li>
<li><a href="help-doc.html#overview">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<div class="header">
<h1 class="title">WebMonitor documentation</h1>
</div>
<div class="block"><p>
        Webmonitor is a Java application for monitoring state of web services. It will periodically check and log a state of configured websites. Optionally it can be configured to send email or Discord webhook notifications.
    </p>

    <h1>User Guide</h1>
    <p>User documentation containing installation and usage instruction can be found in: <code>docs/user_guide.pdf</code>.</p>

    <h1>Functionality</h1>
    <strong>Initialization</strong>
    <p>
        <a href="cz/cuni/mff/webmonitor/Main.html" title="class in cz.cuni.mff.webmonitor"><code>Main</code></a> is the entry class of the program.
        This class is responsible for processing command line arguments and calling appropriate parts of the program to load configuration and start monitoring processes.
        Arguments are processed in <a href="cz/cuni/mff/webmonitor/Arguments.html" title="class in cz.cuni.mff.webmonitor"><code>Arguments</code></a> class.
        Logging and other functions are enabled based on arguments.
    </p>
    <p>
        Configuration file in YAML format is loaded and processed by <a href="cz/cuni/mff/webmonitor/config/ConfigLoader.html" title="class in cz.cuni.mff.webmonitor.config"><code>ConfigLoader</code></a> class into
        <a href="cz/cuni/mff/webmonitor/config/GlobalConfig.html" title="class in cz.cuni.mff.webmonitor.config"><code>GlobalConfig</code></a> and <a href="cz/cuni/mff/webmonitor/config/ServiceConfig.html" title="class in cz.cuni.mff.webmonitor.config"><code>ServiceConfig</code></a> objects.
        The class is also responsible for detecting errors in configuration supplemented by user.
    </p>
    <p>
        All messages are separated from the code in <code>resources/messages.properties</code> file and loaded in <a href="cz/cuni/mff/webmonitor/Messages.html" title="class in cz.cuni.mff.webmonitor"><code>Messages</code></a> class.
        This would potentially allow for easy translation into multiple languages.
    </p>
    <p>
        After the configuration is loaded the program creates pool of threads for each monitored service and the configuration is passed to them.
        A task is represented by <a href="cz/cuni/mff/webmonitor/monitoring/MonitorTask.html" title="class in cz.cuni.mff.webmonitor.monitoring"><code>MonitorTask</code></a> object which implements Runnable interface.
    </p>

    <strong>Monitoring</strong>
    <p>
        Each task executes the following series of actions in a specified interval.
        First <a href="cz/cuni/mff/webmonitor/monitoring/Requester.html#request(cz.cuni.mff.webmonitor.config.ServiceConfig)"><code>Requester.request</code></a> method is called to send a HTTP request.
        The function wraps the resulting request (or exception) into a <a href="cz/cuni/mff/webmonitor/monitoring/ResponseData.html" title="class in cz.cuni.mff.webmonitor.monitoring"><code>ResponseData</code></a> object.
        This object is further passed into <a href="cz/cuni/mff/webmonitor/monitoring/ResponseAnalyzer.html#analyze(cz.cuni.mff.webmonitor.monitoring.ResponseData)"><code>ResponseAnalyzer.analyze</code></a> method which analyzes the response
        and triggers corresponding action based on the configuration.
    </p>
    <p>
        If configured, <a href="cz/cuni/mff/webmonitor/notifications/DiscordNotifier.html" title="class in cz.cuni.mff.webmonitor.notifications"><code>DiscordNotifier</code></a> or <a href="cz/cuni/mff/webmonitor/notifications/EmailNotifier.html" title="class in cz.cuni.mff.webmonitor.notifications"><code>EmailNotifier</code></a> are used to send a warning.
    </p>

    <strong>Used libraries</strong>
    <ul>
        <li><a href="https://jcommander.org/">JCommander</a> (CLI argument parsing)</li>
        <li><a href="https://logging.apache.org/log4j/2.x/">Log4j 2</a> (logging)</li>
        <li><a href="https://bitbucket.org/snakeyaml/snakeyaml/src/master/">SnakeYAML</a> (loading YAML file into Java objects)</li>
        <li><a href="https://github.com/mailjet/mailjet-apiv3-java">Mailjet Java Wrapper</a> (email notifications)</li>
    </ul>

    <h2>Implementation notes</h2>
    <p>
        Email notifier was initially planned to use some well-known service like Gmail.
        However, it proved challenging to implement sending emails using Gmail. Connecting to Gmail's SMTP servers wasn't working.
        MailJet service appeared to be reliable after initial testing. While it is working solution, it's not ideal as setup is complicated and email get classified as spam.
    </p>
    <p>
        YAML is a great format for configuration files. But it doesn't work ideally with Java. As it is statically typed language lot of casting and error checking is required when parsing the file.
    </p></div>
<div id="all-packages-table">
<div class="caption"><span>Packages</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Package</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color all-packages-table all-packages-table-tab1"><a href="cz/cuni/mff/webmonitor/package-summary.html">cz.cuni.mff.webmonitor</a></div>
<div class="col-last even-row-color all-packages-table all-packages-table-tab1">
<div class="block">Package containing main class and other subpackages, each handling different part of functionality.</div>
</div>
<div class="col-first odd-row-color all-packages-table all-packages-table-tab1"><a href="cz/cuni/mff/webmonitor/config/package-summary.html">cz.cuni.mff.webmonitor.config</a></div>
<div class="col-last odd-row-color all-packages-table all-packages-table-tab1">
<div class="block">Provides classes for loading global and service specific configuration.</div>
</div>
<div class="col-first even-row-color all-packages-table all-packages-table-tab1"><a href="cz/cuni/mff/webmonitor/monitoring/package-summary.html">cz.cuni.mff.webmonitor.monitoring</a></div>
<div class="col-last even-row-color all-packages-table all-packages-table-tab1">
<div class="block">Classes for sending and analyzing HTTP requests.</div>
</div>
<div class="col-first odd-row-color all-packages-table all-packages-table-tab1"><a href="cz/cuni/mff/webmonitor/notifications/package-summary.html">cz.cuni.mff.webmonitor.notifications</a></div>
<div class="col-last odd-row-color all-packages-table all-packages-table-tab1">
<div class="block">Classes containing notification functionality.</div>
</div>
</div>
</div>
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2022. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
